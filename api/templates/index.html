<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <script src="/static/jquery/dist/jquery.min.js"></script>
    <script src="/static/datatables/media/js/jquery.dataTables.js"></script>
    <link href="/static/datatables/media/css/jquery.dataTables.min.css" rel="stylesheet" />
    <script src="/static/bootstrap/dist/js/bootstrap.min.js"></script>
    <link href="/static/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/static/bootstrap/dist/css/bootstrap-theme.min.css" rel="stylesheet" />
    <script src="/static/lkWeb.js"></script>
    <title>ProxyPool</title>

    <script type="text/javascript">
        let lkTable;
        $(function () {
            InitDataTable()
        })

        function search() {
            lkWeb.Search($("#search").val(), lkTable)
        }

        function InitDataTable() {
            var dataUrl = '/get_pagedata';
            var columns = [
                { "mData": "ip", 'name': 'ip', "sClass": "text-center", 'bSortable': true },
                { 'mData': 'port', 'name': 'port', 'sClass': 'text-center', 'bSortable': true },
                { 'mData': 'speed', 'name': 'speed', 'sClass': 'text-center', 'bSortable': true },
                { 'mData': 'score', 'name': 'score', 'sClass': 'text-center', 'bSortable': true },
                { 'mData': 'type', 'name': 'type', 'sClass': 'text-center', 'bSortable': true },
                { 'mData': 'protocol', 'name': 'protocol', 'sClass': 'text-center', 'bSortable': true },
                { 'mData': 'country', 'name': 'country', 'sClass': 'text-center', 'bSortable': true },
                { 'mData': 'area', 'name': 'area', 'sClass': 'text-center', 'bSortable': true },
                { 'mData': 'checkdatetime', 'name': 'checkdatetime', 'sClass': 'text-center', 'bSortable': true },
            ];
            lkTable = lkWeb.LoadTable("lkTable", columns, dataUrl)
        }
    </script>

    <style>
        body {
            margin: 15px;
        }
    </style>
</head>

<body>
    <div style="width: 75%;margin: 50px auto 15px auto;">
        <div role="form" class="form-inline">
            <div class="form-group">
                <input type="text" class="form-control" id="search">
            </div>
            <div class="form-group">
                <button type="button" class="btn btn-primary" onclick="search()">搜索</button>
            </div>
        </div>
    </div>
    <div style="width: 75%;margin: 0 auto;">
        <table class="table table-striped table-hover" id="lkTable">
            <thead>
                <tr>
                    <th>ip</th>
                    <th>端口</th>
                    <th>速度</th>
                    <th>分数</th>
                    <th>类型</th>
                    <th>协议</th>
                    <th>国家</th>
                    <th>地区</th>
                    <th>检查时间</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

</body>

</html>